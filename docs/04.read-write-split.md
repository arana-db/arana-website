---
sidebar_position: 4
---

# Read-Write-Split

## Introduction

## Config

```yaml
clusters:
  - name: employees
    type: mysql
    sql_max_limit: -1
    tenant: arana
    parameters:
      max_allowed_packet: 256M
    groups:
      - name: employees_0000
        nodes:
          - name: node0
            host: arana-mysql
            port: 3306
            username: root
            password: "123456"
            database: employees_0000
            weight: r10w10
            parameters:
          - name: node0_r_0
            host: arana-mysql
            port: 3306
            username: root
            password: "123456"
            database: employees_0000_r
            weight: r0w0
```

- 读(默认读操作): r > 0
- 写(默认写操作或者事务): w > 0 理论上只有一个
- 主(显式指定MASTER): w > 0 && r >= 0  理论上等价于写节点 (优先0)
- 从(显式指定SLAVE): w == 0 && r >= 0 (优先0)